name: Update modDesc Version

on:
  workflow_dispatch:
  push:
    tags:
      - '*'

jobs:
  update-version:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Set latest tag
      id: set-latest-tag
      run: echo "latest_tag=$(git tag | sort --version-sort | tail -n1)" >> $GITHUB_ENV
  
    - name: Tag Docker image as latest
      id: tag-as-latest
      if: ${{ github.ref_name == env.latest_tag }}
      run: |
        echo ${{ env.latest_tag }}
        echo ${{ github.ref_name }}